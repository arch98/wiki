<!DOCTYPE html>
<html lan = "en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
     <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
     <link href="css/style.css" rel="stylesheet">
	<title>Weather App Viewer</title>
</head>
<body>


    <nav class="navbar navbar-dark navbar-expand-lg fixed-top">
    	<div class="container">
    		<a class="navbar-brand" href="#">Weather</a>
    		<button class ="navbar-toggler" type="button" data-toggle="collapse"
    		data-target="#contents"></button>
    		<div class ="collapse navbar-collapse" id="contents">
    			<ul class="navbar-nav mr-auto">
    				<li class="nav-item active">
    					<a class="nav-link" href="#">Home</a>
    					</li>
    					<li class ="nav-item">
    					<a class="nav-link" href="#">Predict</a>
    					</li>
    					</ul> 
    		</div>
    	</div>
    </nav>


	<header class = "jumbotron">
    <div class = "container">
     <div class ="row">
         <div class ="col-12" >
                    <h1>Showing the local weather.</h1>
                  </div>
                </div>
              </div>
          </header>

    
  <main>
    <div class ="container">
      <div class ="row">
        <div class ="col-12 col-sm-3">
        </div>
        <div class = "col-12 col-sm-6">
          <div class ="box">
      <h1 id="city">Tvm</h1>
      <img src="#" alt="icon" id="pic">
      <div class ="temper" id="tbox">
      <span id="temp"  class ="cel">19</span>
      <span id="deg">&#8451;</span>
  </div>
       <h2 id="desc">Sunny</h2>
    </div>
    </div>
     <div class="col-12 col-sm-3">
      </div>
  </div>
   
   <div class ="container">
      <div class ="row">
        <div class ="col-12 col-sm-3">
        </div>
        <div class = "col-12 col-sm-6">
          <div class ="imp">
            <form>
          <input type="button" value="Change Scale" class="btn btn-light" id="tcf">
         </form>
    </div>
    </div>
     <div class="col-12 col-sm-3">
      </div>
  </div>
</div>


  </main>

     <script src="node_modules/jquery/dist/jquery.slim.min.js"></script>
    <script src="node_modules/popper.js/dist/umd/popper.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
  <script>
      $(document).ready(function(){
            
            var URL = "https://fcc-weather-api.glitch.me/api/current?lat=8.5&lon=76.9";

            $.getJSON(URL,function(data){
                  u(data);
            });
       
          function u(data){
            var c = data.name;
            
            if(c == "Shuzenji"){
              alert("Wait for some time");
            }

            var i = data.weather[0].icon;
            var t = Math.round(data.main.temp);
            var desc =data.weather[0].description;
            $('#city').html(c);
            $('#pic').attr('src',i);
            $('#temp').html(t);
            $('#desc').html(desc);
          }

           $("#tcf").click(function(){
                
                 $.getJSON(URL,function(data){
                       var t = Math.round(data.main.temp);
                       if($("#temp").hasClass('cel')){
                	      var y = Math.round((t*9/5)+32);
                	      $("#temp").html(y);
                	      $("#temp").removeClass('cel');
                	      $("temp").addClass('far');
                	      $("#deg").html("&#8457;");
                  }else{
                  	  $("#temp").html(t);
                  	  $("#temp").removeClass('far');
                  	  $("#temp").addClass('cel');
                      $("#deg").html("&#8451;");
                  }

                   });
                
                
           });          
      });
      </script>


	</body>
</html>